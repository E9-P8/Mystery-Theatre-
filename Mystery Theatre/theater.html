<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Magical Mystery Theater</title>
    <link href="theater.css" rel="stylesheet" type="text/css" />
    <script src="theater.js"></script>
  </head>
  <body>
    <h1>Magical Mystery Theater</h1>
    <!--Sezione per comprare i biglietti-->
    <div>Benvenuto al Magical Mystery Theater!</div>
    <form method="GET">
      <!--action="" -->
      <label>
        Please enter your name
        <input
          type="text"
          name="name"
          id="name"
          minlength="3"
          maxlength="20"
          required
        /> </label
      ><br />
      <label>
        Please enter your age
        <input
          type="text"
          name="age"
          id="age"
          minlength="1"
          maxlength="3"
          required
        /><br />
        <label for="hour">Please insert the show time</label>
        <select name="hour" id="hour">
          <option value="select">Select a time</option>
          <option value="Mattutino">Mattutino</option>
          <option value="Pomeridiano">Pomeridiano</option>
          <option value="Serale">Serale</option></select
        ><br />
      </label>
      <button type="button" onclick="verifyDiscount()">Purchase Ticket</button>
    </form>
    <h2 id="ticket-price">Prezzo del biglietto: 20€</h2>
  </body>

  <script>
    function verifyDiscount() {
      const GENERAL_ADMISSION_TICKET_COST = 20;
      const CHILD_AND_SENIOR_TICKET_COST = 10;

      let price = GENERAL_ADMISSION_TICKET_COST;

      // Recupero dei valori inseriti dall'utente
      let age = parseInt(document.getElementById("age").value);
      let dateShow = document.getElementById("hour").value;

      console.log(age, dateShow);

      if ((age <= 12 || age >= 65) && dateShow === "Pomeridiano") {
        price -= 13;
      } else if ((age <= 12 || age >= 65) && dateShow !== "Pomeridiano") {
        price -= 10;
      } else if ((age > 12 || age < 65) && dateShow === "Pomeridiano") {
        price -= 3;
      } else {
        price;
      }
      document.getElementById("ticket-price").textContent =
        "Prezzo del biglietto: " + price + "€";
    }
  </script>
</html>
